(()=>{"use strict";const e=[{title:"Project-Title",desc:"Project One"},{title:"Project-Title2",desc:"Project Two"},{title:"Project-Title3",desc:"Project Three"}],t=()=>{const t=document.querySelector("#projects-list");t.textContent="",e.forEach((e=>{const n=m(".header-nav-item",e.title);n.addEventListener("click",(()=>(e=>{const t=document.querySelector(".main"),n=i("main-container"),o=l("project-title"),c=s("project-desc"),d=i("todo-container"),a=u("todo-create");o.innerText=e.title,c.innerText=e.desc,a.innerText="+",a.addEventListener("click",(()=>r())),n.append(o,c,d,a),t.textContent="",t.append(n),j()})(e))),t.append(n)}))},n=document.querySelector(".modal"),o=document.querySelector(".modal-form");document.querySelector(".modal-form-close").addEventListener("click",(()=>{n.classList.add("display-none"),o.removeEventListener("submit",c),o.removeEventListener("submit",d),o.removeEventListener("submit",a)}));const r=()=>{y("Add new todo"),o.addEventListener("submit",c),n.classList.remove("display-none")},c=e=>{const t=document.querySelector(".project-title"),r=document.querySelector(".modal-form-title-input"),d=document.querySelector(".modal-form-date-input");e.preventDefault(),L(t.innerText,r.value,d.value),n.classList.add("display-none"),o.removeEventListener("submit",c)},d=e=>{const t=document.querySelector(".modal-form-title-input"),r=document.querySelector(".modal-form-date-input");e.preventDefault(),S(e.currentTarget.currentIndex,t.value,r.value),n.classList.add("display-none"),o.removeEventListener("submit",d)},a=r=>{const c=document.querySelector(".modal-form-title-input"),d=document.querySelector(".modal-form-desc-input");r.preventDefault(),((n,o)=>{const r=((e,t)=>({title:e,desc:t}))(n,o);e.push(r),t()})(c.value,d.value),n.classList.add("display-none"),o.removeEventListener("submit",a)},i=e=>{const t=document.createElement("div");return t.classList.add(e),t},l=e=>{const t=document.createElement("h2");return t.classList.add(e),t},s=e=>{const t=document.createElement("p");return t.classList.add(e),t},u=e=>{const t=document.createElement("button");return t.classList.add(e),t},m=(e,t)=>{const n=document.createElement("li"),o=document.createElement("a");return n.classList.add(e),o.classList.add(`${e}-link`),o.innerText=t,n.append(o),n},p=e=>{const t=document.createElement("legend");return t.classList.add(e),t},f=e=>{const t=document.createElement("label");return t.classList.add(`${e}-label`),t.setAttribute("for",`${e}-input`),t},v=(e,t)=>{const n=document.createElement("input");return n.classList.add(`${e}-input`),n.setAttribute("type",t),n.setAttribute("id",`${e}-input`),n.setAttribute("name",`${e}-input`),n},y=e=>{const t=document.querySelector(".modal-form-fieldset"),n=p("modal-form-legend"),o=f("modal-form-title"),r=v("modal-form-title","text"),c=f("modal-form-date"),d=v("modal-form-date","date");n.innerText=e,o.innerText="Name",c.innerText="Date",t.textContent="",t.append(n,o,r,c,d)};function T(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function x(e){T(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}const E=[{type:"General",checked:!1,title:"Todo-Title",date:"2022-07-20"},{type:"General",checked:!1,title:"Todo-Title2",date:"2022-07-21"},{type:"Project-Title",checked:!1,title:"Todo-Title3",date:"2022-07-22"},{type:"General",checked:!1,title:"Todo-Title4",date:"2022-07-22"}],L=(e,t,n)=>{const o=((e,t,n)=>({type:e,checked:!1,title:t,date:n}))(e,t,n);E.push(o),j()},b=e=>{E.splice(e,1),console.log(E),j()},S=(e,t,n)=>{const o=E[e];console.log(o),o.title=t,o.date=n,j()},h=(e,t)=>{E[e].checked=t,console.log(E)},j=()=>{const e=document.querySelector(".project-title");document.querySelector(".todo-container").textContent="";const t=E.filter(((t,n)=>(t.index=n,t.type===e.innerText)));t.sort(((e,t)=>function(e,t){T(2,arguments);var n=x(e),o=x(t),r=n.getTime()-o.getTime();return r<0?-1:r>0?1:r}(new Date(e.date),new Date(t.date)))),t.forEach((e=>(e=>{const t=document.querySelector(".todo-container"),r=i("todo-card"),c=(e=>{const t=document.createElement("input");return t.classList.add("todo-card-input"),t.setAttribute("type","checkbox"),t})(),a=s("todo-card-title"),l=s("todo-card-date"),m=u("todo-card-edit"),p=u("todo-card-delete");c.checked=e.checked,c.addEventListener("click",(()=>h(e.index,c.checked))),a.innerText=e.title,l.innerText=e.date,m.innerText="Edit",m.addEventListener("click",(()=>(e=>{y("Edit todo");const t=document.querySelector(".modal-form-title-input"),r=document.querySelector(".modal-form-date-input");t.value=e.title,r.value=e.date,n.classList.remove("display-none"),o.addEventListener("submit",d),o.currentIndex=e.index})(e))),p.innerText="X",p.addEventListener("click",(()=>b(e.index))),r.append(c,a,l,m,p),t.append(r)})(e)))},q=document.querySelector(".header-nav-btn"),g=document.querySelectorAll(".header-main-nav-link");q.addEventListener("click",(()=>{(e=>{const t=document.querySelector(".modal-form-fieldset"),n=p("modal-form-legend"),o=f("modal-form-title"),r=v("modal-form-title","text"),c=f("modal-form-desc"),d=(e=>{const t=document.createElement("textarea");return t.classList.add(`${e}-input`),t.setAttribute("id",`${e}-input`),t.setAttribute("name",`${e}-input`),t})("modal-form-desc");n.innerText=e,o.innerText="Project Name",c.innerText="Project Description",t.textContent="",t.append(n,o,r,c,d)})("Create new Project"),o.addEventListener("submit",a),n.classList.remove("display-none")})),g.forEach((e=>{e.addEventListener("click",(()=>{"General"===e.innerText&&(()=>{const e=document.querySelector(".main"),t=i("main-container"),n=l("project-title"),o=s("project-desc"),c=i("todo-container"),d=u("todo-create");n.innerText="General",o.innerText="A general list of random todos.",d.innerText="+",d.addEventListener("click",(()=>r())),t.append(n,o,c,d),e.textContent="",e.append(t),j()})()}))})),t()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUl4QyxPQUhBMkUsRUFBU3BHLFVBQVVDLElBQUksR0FBR3NCLFdBQzFCNkUsRUFBU2xFLGFBQWEsS0FBTSxHQUFHWCxXQUMvQjZFLEVBQVNsRSxhQUFhLE9BQVEsR0FBR1gsV0FDMUI2RSxHQXlCV0MsQ0FBZSxtQkFFakN0RSxFQUFPdEMsVUFBWXBCLEVBQ25Ca0UsRUFBVTlDLFVBQVksZUFDdEJ5RyxFQUFVekcsVUFBWSxzQkFFdEI2QyxFQUFhM0QsWUFBYyxHQUMzQjJELEVBQWEzQyxPQUFPb0MsRUFBUVEsRUFBV0MsRUFBVzBELEVBQVdDLElEN0Y3REcsQ0FBMkIsc0JBQzNCdkcsRUFBVWYsaUJBQWlCLFNBQVVxQixHQUNyQ1AsRUFBTUUsVUFBVU8sT0FBTyxtQk0xQjNCeUYsRUFBU3BILFNBQVEySCxJQUNiQSxFQUFLdkgsaUJBQWlCLFNBQVMsS0FFbEIsWUFERHVILEVBQUs5RyxXUlZBLE1BQ2pCLE1BQU1SLEVBQU9SLFNBQVNDLGNBQWMsU0FDOUJRLEVBQWdCQyxFQUFVLGtCQUMxQmQsRUFBUWUsRUFBUyxpQkFDakJkLEVBQU9lLEVBQVcsZ0JBQ2xCQyxFQUFnQkgsRUFBVSxrQkFDMUJJLEVBQU1DLEVBQVUsZUFFdEJuQixFQUFNb0IsVUFBWSxVQUNsQm5CLEVBQUttQixVQUFZLGtDQUNqQkYsRUFBSUUsVUFBWSxJQUNoQkYsRUFBSVAsaUJBQWlCLFNBQVMsSUFBTVUsTUFFcENSLEVBQWNTLE9BQU90QixFQUFPQyxFQUFNZ0IsRUFBZUMsR0FFakROLEVBQUtOLFlBQWMsR0FDbkJNLEVBQUtVLE9BQU9ULEdBQ1pVLEtRTFk0RyxTQVloQmpJLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9idWlsZC1wYWdlcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9tb2RhbC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9jcmVhdGUtZG9tLWVsZW1lbnRzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS90b0RhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvdG9kb3MuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9jb21wYXJlQXNjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVCdG4sIGNyZWF0ZURpdiwgY3JlYXRlSDIsIGNyZWF0ZVBhcmEsIGNyZWF0ZVRvZG9DYXJkIH0gZnJvbSAnLi9jcmVhdGUtZG9tLWVsZW1lbnRzJztcbmltcG9ydCB7IG9wZW5Nb2RhbCB9IGZyb20gJy4vbW9kYWwnO1xuaW1wb3J0IHsgcmVuZGVyVG9kb3MsIHRvZG9zIH0gZnJvbSAnLi90b2Rvcyc7XG5cbmNvbnN0IGJ1aWxkR2VuZXJhbCA9ICgpID0+IHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4nKTtcbiAgICBjb25zdCBtYWluQ29udGFpbmVyID0gY3JlYXRlRGl2KCdtYWluLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHRpdGxlID0gY3JlYXRlSDIoJ3Byb2plY3QtdGl0bGUnKTtcbiAgICBjb25zdCBkZXNjID0gY3JlYXRlUGFyYSgncHJvamVjdC1kZXNjJyk7XG4gICAgY29uc3QgdG9kb0NvbnRhaW5lciA9IGNyZWF0ZURpdigndG9kby1jb250YWluZXInKTtcbiAgICBjb25zdCBidG4gPSBjcmVhdGVCdG4oJ3RvZG8tY3JlYXRlJyk7XG5cbiAgICB0aXRsZS5pbm5lclRleHQgPSAnR2VuZXJhbCc7XG4gICAgZGVzYy5pbm5lclRleHQgPSAnQSBnZW5lcmFsIGxpc3Qgb2YgcmFuZG9tIHRvZG9zLic7XG4gICAgYnRuLmlubmVyVGV4dCA9ICcrJztcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBvcGVuTW9kYWwoKSk7XG5cbiAgICBtYWluQ29udGFpbmVyLmFwcGVuZCh0aXRsZSwgZGVzYywgdG9kb0NvbnRhaW5lciwgYnRuKTtcblxuICAgIG1haW4udGV4dENvbnRlbnQgPSAnJztcbiAgICBtYWluLmFwcGVuZChtYWluQ29udGFpbmVyKTtcbiAgICByZW5kZXJUb2RvcygpO1xufVxuXG5jb25zdCBidWlsZFByb2plY3RQYWdlID0gKHByb2plY3QpID0+IHtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4nKTtcbiAgICBjb25zdCBtYWluQ29udGFpbmVyID0gY3JlYXRlRGl2KCdtYWluLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHRpdGxlID0gY3JlYXRlSDIoJ3Byb2plY3QtdGl0bGUnKTtcbiAgICBjb25zdCBkZXNjID0gY3JlYXRlUGFyYSgncHJvamVjdC1kZXNjJyk7XG4gICAgY29uc3QgdG9kb0NvbnRhaW5lciA9IGNyZWF0ZURpdigndG9kby1jb250YWluZXInKTtcbiAgICBjb25zdCBidG4gPSBjcmVhdGVCdG4oJ3RvZG8tY3JlYXRlJyk7XG5cbiAgICB0aXRsZS5pbm5lclRleHQgPSBwcm9qZWN0LnRpdGxlO1xuICAgIGRlc2MuaW5uZXJUZXh0ID0gcHJvamVjdC5kZXNjO1xuICAgIGJ0bi5pbm5lclRleHQgPSAnKyc7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3Blbk1vZGFsKCkpO1xuXG4gICAgbWFpbkNvbnRhaW5lci5hcHBlbmQodGl0bGUsIGRlc2MsIHRvZG9Db250YWluZXIsIGJ0bik7XG5cbiAgICBtYWluLnRleHRDb250ZW50ID0gJyc7XG4gICAgbWFpbi5hcHBlbmQobWFpbkNvbnRhaW5lcik7XG4gICAgcmVuZGVyVG9kb3MoKTtcbn1cblxuZXhwb3J0IHtcbiAgICBidWlsZEdlbmVyYWwsXG4gICAgYnVpbGRQcm9qZWN0UGFnZSxcbn0iLCJpbXBvcnQgeyBidWlsZFByb2plY3RQYWdlIH0gZnJvbSBcIi4vYnVpbGQtcGFnZXNcIjtcbmltcG9ydCB7IGNyZWF0ZU5hdkl0ZW0gfSBmcm9tIFwiLi9jcmVhdGUtZG9tLWVsZW1lbnRzXCI7XG5cbmNvbnN0IHByb2plY3RzID0gW1xuICAgIHtcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0LVRpdGxlJyxcbiAgICAgICAgZGVzYzogJ1Byb2plY3QgT25lJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0LVRpdGxlMicsXG4gICAgICAgIGRlc2M6ICdQcm9qZWN0IFR3bycsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHRpdGxlOiAnUHJvamVjdC1UaXRsZTMnLFxuICAgICAgICBkZXNjOiAnUHJvamVjdCBUaHJlZScsXG4gICAgfSxcbl07XG5cbmNvbnN0IHByb2plY3RGYWN0b3J5ID0gKHRpdGxlLCBkZXNjKSA9PiB7XG4gICAgcmV0dXJuIHsgdGl0bGUsIGRlc2MgfTtcbn07XG5cbmNvbnN0IGNyZWF0ZVByb2plY3QgPSAodGl0bGUsIGRlc2MpID0+IHtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gcHJvamVjdEZhY3RvcnkodGl0bGUsIGRlc2MpO1xuICAgIHByb2plY3RzLnB1c2gobmV3UHJvamVjdCk7XG4gICAgcmVuZGVyUHJvamVjdE5hdigpO1xufTtcblxuY29uc3QgcmVtb3ZlUHJvamVjdCA9IChpbmRleCkgPT4ge1xuICAgIHByb2plY3RzLnNwbGljZShpbmRleCwgMSk7XG59O1xuXG5jb25zdCByZW5kZXJQcm9qZWN0TmF2ID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3ROYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdHMtbGlzdCcpO1xuICAgIHByb2plY3ROYXYudGV4dENvbnRlbnQgPSAnJztcblxuICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgIGNvbnN0IG5hdkl0ZW0gPSBjcmVhdGVOYXZJdGVtKCcuaGVhZGVyLW5hdi1pdGVtJywgcHJvamVjdC50aXRsZSk7XG4gICAgICAgIG5hdkl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBidWlsZFByb2plY3RQYWdlKHByb2plY3QpKTtcbiAgICAgICAgcHJvamVjdE5hdi5hcHBlbmQobmF2SXRlbSk7XG4gICAgfSlcbn1cblxuZXhwb3J0IHtcbiAgICBjcmVhdGVQcm9qZWN0LFxuICAgIHJlbW92ZVByb2plY3QsXG4gICAgcmVuZGVyUHJvamVjdE5hdixcbn0iLCJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0TW9kYWxFbGVtZW50cywgY3JlYXRlVG9kb01vZGFsRWxlbWVudHMgfSBmcm9tIFwiLi9jcmVhdGUtZG9tLWVsZW1lbnRzXCI7XG5pbXBvcnQgeyBjcmVhdGVQcm9qZWN0IH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB7IGNyZWF0ZVRvZG8sIGVkaXRUb2RvIH0gZnJvbSBcIi4vdG9kb3NcIjtcblxuY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcbmNvbnN0IG1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1mb3JtJyk7XG5cblxuY29uc3QgY2xvc2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1mb3JtLWNsb3NlJyk7XG5jbG9zZU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2Rpc3BsYXktbm9uZScpO1xuICAgIG1vZGFsRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBuZXdUb2RvRXZlbnQpO1xuICAgIG1vZGFsRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlZGl0VG9kb0V2ZW50KTtcbiAgICBtb2RhbEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgbmV3UHJvamVjdEV2ZW50KTtcbn0pO1xuXG5jb25zdCBvcGVuTW9kYWwgPSAoKSA9PiB7XG4gICAgY3JlYXRlVG9kb01vZGFsRWxlbWVudHMoJ0FkZCBuZXcgdG9kbycpO1xuICAgIG1vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBuZXdUb2RvRXZlbnQpO1xuICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc3BsYXktbm9uZScpO1xufVxuXG5jb25zdCBvcGVuRWRpdE1vZGFsID0gKHRvZG8pID0+IHtcbiAgICBjcmVhdGVUb2RvTW9kYWxFbGVtZW50cygnRWRpdCB0b2RvJyk7XG5cbiAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWZvcm0tdGl0bGUtaW5wdXQnKTtcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtZm9ybS1kYXRlLWlucHV0Jyk7XG5cbiAgICB0aXRsZUlucHV0LnZhbHVlID0gdG9kby50aXRsZTtcbiAgICBkYXRlSW5wdXQudmFsdWUgPSB0b2RvLmRhdGU7XG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZGlzcGxheS1ub25lJyk7XG4gICAgbW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGVkaXRUb2RvRXZlbnQpO1xuICAgIG1vZGFsRm9ybS5jdXJyZW50SW5kZXggPSB0b2RvLmluZGV4O1xufVxuXG5jb25zdCBvcGVuUHJvamVjdE1vZGFsID0gKCkgPT4ge1xuICAgIGNyZWF0ZVByb2plY3RNb2RhbEVsZW1lbnRzKCdDcmVhdGUgbmV3IFByb2plY3QnKTtcbiAgICBtb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgbmV3UHJvamVjdEV2ZW50KTtcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdkaXNwbGF5LW5vbmUnKTtcbn1cblxuY29uc3QgbmV3VG9kb0V2ZW50ID0gKGUpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LXRpdGxlJyk7XG4gICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1mb3JtLXRpdGxlLWlucHV0Jyk7XG4gICAgY29uc3QgZGF0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWZvcm0tZGF0ZS1pbnB1dCcpO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNyZWF0ZVRvZG8ocHJvamVjdE5hbWUuaW5uZXJUZXh0LCB0aXRsZUlucHV0LnZhbHVlLCBkYXRlSW5wdXQudmFsdWUpO1xuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2Rpc3BsYXktbm9uZScpO1xuICAgIG1vZGFsRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBuZXdUb2RvRXZlbnQpO1xufVxuXG5jb25zdCBlZGl0VG9kb0V2ZW50ID0gKGUpID0+IHtcbiAgICBjb25zdCB0aXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWZvcm0tdGl0bGUtaW5wdXQnKTtcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtZm9ybS1kYXRlLWlucHV0Jyk7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZWRpdFRvZG8oZS5jdXJyZW50VGFyZ2V0LmN1cnJlbnRJbmRleCwgdGl0bGVJbnB1dC52YWx1ZSwgZGF0ZUlucHV0LnZhbHVlKTtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdkaXNwbGF5LW5vbmUnKTtcbiAgICBtb2RhbEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZWRpdFRvZG9FdmVudCk7XG59XG5cbmNvbnN0IG5ld1Byb2plY3RFdmVudCA9IChlKSA9PiB7XG4gICAgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1mb3JtLXRpdGxlLWlucHV0Jyk7XG4gICAgY29uc3QgZGVzY0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWZvcm0tZGVzYy1pbnB1dCcpO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNyZWF0ZVByb2plY3QodGl0bGVJbnB1dC52YWx1ZSwgZGVzY0lucHV0LnZhbHVlKTtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdkaXNwbGF5LW5vbmUnKTtcbiAgICBtb2RhbEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgbmV3UHJvamVjdEV2ZW50KTtcbn1cblxuZXhwb3J0IHtcbiAgICBvcGVuTW9kYWwsXG4gICAgb3BlbkVkaXRNb2RhbCxcbiAgICBvcGVuUHJvamVjdE1vZGFsLFxufSIsImltcG9ydCB7IG9wZW5FZGl0TW9kYWwgfSBmcm9tICcuL21vZGFsJztcbmltcG9ydCB7IHJlbW92ZVRvZG8sIHVwZGF0ZVN0YXR1cyB9IGZyb20gJy4vdG9kb3MnO1xuXG5jb25zdCBjcmVhdGVEaXYgPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICByZXR1cm4gZGl2O1xufTtcblxuY29uc3QgY3JlYXRlSDIgPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3QgaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIGgyLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICByZXR1cm4gaDI7XG59O1xuXG5jb25zdCBjcmVhdGVQYXJhID0gKGNsYXNzTmFtZSkgPT4ge1xuICAgIGNvbnN0IHBhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgcGFyYS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIHBhcmE7XG59O1xuXG5jb25zdCBjcmVhdGVCdG4gPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICByZXR1cm4gYnRuO1xufTtcblxuY29uc3QgY3JlYXRlQ2hlY2tib3ggPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcbiAgICByZXR1cm4gY2hlY2tib3g7XG59O1xuXG5jb25zdCBjcmVhdGVOYXZJdGVtID0gKGNsYXNzTmFtZSwgcHJvamVjdE5hbWUpID0+IHtcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgY29uc3QgbGlMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgbGkuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIGxpTGluay5jbGFzc0xpc3QuYWRkKGAke2NsYXNzTmFtZX0tbGlua2ApO1xuICAgIGxpTGluay5pbm5lclRleHQgPSBwcm9qZWN0TmFtZTtcblxuICAgIGxpLmFwcGVuZChsaUxpbmspO1xuXG4gICAgcmV0dXJuIGxpO1xufVxuXG5jb25zdCBjcmVhdGVUb2RvQ2FyZCA9ICh0b2RvKSA9PiB7XG4gICAgY29uc3QgdG9kb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURpdigndG9kby1jYXJkJyk7XG4gICAgY29uc3QgY2hlY2tib3ggPSBjcmVhdGVDaGVja2JveCgndG9kby1jYXJkLWlucHV0Jyk7XG4gICAgY29uc3QgdGl0bGUgPSBjcmVhdGVQYXJhKCd0b2RvLWNhcmQtdGl0bGUnKTtcbiAgICBjb25zdCBkYXRlID0gY3JlYXRlUGFyYSgndG9kby1jYXJkLWRhdGUnKTtcbiAgICBjb25zdCBlZGl0QnRuID0gY3JlYXRlQnRuKCd0b2RvLWNhcmQtZWRpdCcpO1xuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGNyZWF0ZUJ0bigndG9kby1jYXJkLWRlbGV0ZScpO1xuXG4gICAgY2hlY2tib3guY2hlY2tlZCA9IHRvZG8uY2hlY2tlZDtcbiAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHVwZGF0ZVN0YXR1cyh0b2RvLmluZGV4LCBjaGVja2JveC5jaGVja2VkKSk7XG4gICAgdGl0bGUuaW5uZXJUZXh0ID0gdG9kby50aXRsZTtcbiAgICBkYXRlLmlubmVyVGV4dCA9IHRvZG8uZGF0ZTtcbiAgICBlZGl0QnRuLmlubmVyVGV4dCA9ICdFZGl0JztcbiAgICBlZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3BlbkVkaXRNb2RhbCh0b2RvKSk7XG4gICAgZGVsZXRlQnRuLmlubmVyVGV4dCA9ICdYJztcbiAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiByZW1vdmVUb2RvKHRvZG8uaW5kZXgpKTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmQoY2hlY2tib3gsIHRpdGxlLCBkYXRlLCBlZGl0QnRuLCBkZWxldGVCdG4pO1xuXG4gICAgdG9kb0NvbnRhaW5lci5hcHBlbmQoY29udGFpbmVyKTtcbn07XG5cbmNvbnN0IGNyZWF0ZUxlZ2VuZCA9IChjbGFzc05hbWUpID0+IHtcbiAgICBjb25zdCBsZWdlbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsZWdlbmQnKTtcbiAgICBsZWdlbmQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIHJldHVybiBsZWdlbmQ7XG59O1xuXG5jb25zdCBjcmVhdGVMYWJlbCA9IChjbGFzc05hbWUpID0+IHtcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWwuY2xhc3NMaXN0LmFkZChgJHtjbGFzc05hbWV9LWxhYmVsYCk7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCBgJHtjbGFzc05hbWV9LWlucHV0YCk7XG4gICAgcmV0dXJuIGxhYmVsO1xufTtcblxuY29uc3QgY3JlYXRlSW5wdXQgPSAoY2xhc3NOYW1lLCBpbnB1dFR5cGUpID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZChgJHtjbGFzc05hbWV9LWlucHV0YCk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgaW5wdXRUeXBlKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7Y2xhc3NOYW1lfS1pbnB1dGApO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsIGAke2NsYXNzTmFtZX0taW5wdXRgKTtcbiAgICByZXR1cm4gaW5wdXQ7XG59O1xuXG5jb25zdCBjcmVhdGVUZXh0QXJlYSA9IChjbGFzc05hbWUpID0+IHtcbiAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGV4dEFyZWEuY2xhc3NMaXN0LmFkZChgJHtjbGFzc05hbWV9LWlucHV0YCk7XG4gICAgdGV4dEFyZWEuc2V0QXR0cmlidXRlKCdpZCcsIGAke2NsYXNzTmFtZX0taW5wdXRgKTtcbiAgICB0ZXh0QXJlYS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBgJHtjbGFzc05hbWV9LWlucHV0YCk7XG4gICAgcmV0dXJuIHRleHRBcmVhO1xufVxuXG5jb25zdCBjcmVhdGVUb2RvTW9kYWxFbGVtZW50cyA9ICh0aXRsZSkgPT4ge1xuICAgIGNvbnN0IGZvcm1GaWVsZHNldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1mb3JtLWZpZWxkc2V0JylcbiAgICBjb25zdCBsZWdlbmQgPSBjcmVhdGVMZWdlbmQoJ21vZGFsLWZvcm0tbGVnZW5kJyk7XG4gICAgY29uc3QgbGFiZWxOYW1lID0gY3JlYXRlTGFiZWwoJ21vZGFsLWZvcm0tdGl0bGUnKTtcbiAgICBjb25zdCBpbnB1dE5hbWUgPSBjcmVhdGVJbnB1dCgnbW9kYWwtZm9ybS10aXRsZScsICd0ZXh0Jyk7XG4gICAgY29uc3QgbGFiZWxEYXRlID0gY3JlYXRlTGFiZWwoJ21vZGFsLWZvcm0tZGF0ZScpO1xuICAgIGNvbnN0IGlucHV0RGF0ZSA9IGNyZWF0ZUlucHV0KCdtb2RhbC1mb3JtLWRhdGUnLCAnZGF0ZScpO1xuXG4gICAgbGVnZW5kLmlubmVyVGV4dCA9IHRpdGxlO1xuICAgIGxhYmVsTmFtZS5pbm5lclRleHQgPSAnTmFtZSc7XG4gICAgbGFiZWxEYXRlLmlubmVyVGV4dCA9ICdEYXRlJztcblxuICAgIGZvcm1GaWVsZHNldC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGZvcm1GaWVsZHNldC5hcHBlbmQobGVnZW5kLCBsYWJlbE5hbWUsIGlucHV0TmFtZSwgbGFiZWxEYXRlLCBpbnB1dERhdGUpO1xufVxuXG5jb25zdCBjcmVhdGVQcm9qZWN0TW9kYWxFbGVtZW50cyA9ICh0aXRsZSkgPT4ge1xuICAgIGNvbnN0IGZvcm1GaWVsZHNldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1mb3JtLWZpZWxkc2V0JylcbiAgICBjb25zdCBsZWdlbmQgPSBjcmVhdGVMZWdlbmQoJ21vZGFsLWZvcm0tbGVnZW5kJyk7XG4gICAgY29uc3QgbGFiZWxOYW1lID0gY3JlYXRlTGFiZWwoJ21vZGFsLWZvcm0tdGl0bGUnKTtcbiAgICBjb25zdCBpbnB1dE5hbWUgPSBjcmVhdGVJbnB1dCgnbW9kYWwtZm9ybS10aXRsZScsICd0ZXh0Jyk7XG4gICAgY29uc3QgbGFiZWxEZXNjID0gY3JlYXRlTGFiZWwoJ21vZGFsLWZvcm0tZGVzYycpO1xuICAgIGNvbnN0IGlucHV0RGVzYyA9IGNyZWF0ZVRleHRBcmVhKCdtb2RhbC1mb3JtLWRlc2MnKTtcblxuICAgIGxlZ2VuZC5pbm5lclRleHQgPSB0aXRsZTtcbiAgICBsYWJlbE5hbWUuaW5uZXJUZXh0ID0gJ1Byb2plY3QgTmFtZSc7XG4gICAgbGFiZWxEZXNjLmlubmVyVGV4dCA9ICdQcm9qZWN0IERlc2NyaXB0aW9uJztcblxuICAgIGZvcm1GaWVsZHNldC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGZvcm1GaWVsZHNldC5hcHBlbmQobGVnZW5kLCBsYWJlbE5hbWUsIGlucHV0TmFtZSwgbGFiZWxEZXNjLCBpbnB1dERlc2MpO1xufVxuXG5leHBvcnQge1xuICAgIGNyZWF0ZURpdixcbiAgICBjcmVhdGVIMixcbiAgICBjcmVhdGVQYXJhLFxuICAgIGNyZWF0ZUJ0bixcbiAgICBjcmVhdGVJbnB1dCxcbiAgICBjcmVhdGVUb2RvQ2FyZCxcbiAgICBjcmVhdGVUb2RvTW9kYWxFbGVtZW50cyxcbiAgICBjcmVhdGVQcm9qZWN0TW9kYWxFbGVtZW50cyxcbiAgICBjcmVhdGVOYXZJdGVtLFxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVpcmVkQXJncyhyZXF1aXJlZCwgYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPCByZXF1aXJlZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocmVxdWlyZWQgKyAnIGFyZ3VtZW50JyArIChyZXF1aXJlZCA+IDEgPyAncycgOiAnJykgKyAnIHJlcXVpcmVkLCBidXQgb25seSAnICsgYXJncy5sZW5ndGggKyAnIHByZXNlbnQnKTtcbiAgfVxufSIsImltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIHRvRGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgaXRzIGNsb25lLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciwgaXQgaXMgdHJlYXRlZCBhcyBhIHRpbWVzdGFtcC5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgbm9uZSBvZiB0aGUgYWJvdmUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIEludmFsaWQgRGF0ZS5cbiAqXG4gKiAqKk5vdGUqKjogKmFsbCogRGF0ZSBhcmd1bWVudHMgcGFzc2VkIHRvIGFueSAqZGF0ZS1mbnMqIGZ1bmN0aW9uIGlzIHByb2Nlc3NlZCBieSBgdG9EYXRlYC5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBhcmd1bWVudCAtIHRoZSB2YWx1ZSB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyB7RGF0ZX0gdGhlIHBhcnNlZCBkYXRlIGluIHRoZSBsb2NhbCB0aW1lIHpvbmVcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDbG9uZSB0aGUgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHRvRGF0ZShuZXcgRGF0ZSgyMDE0LCAxLCAxMSwgMTEsIDMwLCAzMCkpXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb252ZXJ0IHRoZSB0aW1lc3RhbXAgdG8gZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHRvRGF0ZSgxMzkyMDk4NDMwMDAwKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBhcmdTdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpOyAvLyBDbG9uZSB0aGUgZGF0ZVxuXG4gIGlmIChhcmd1bWVudCBpbnN0YW5jZW9mIERhdGUgfHwgdHlwZW9mIGFyZ3VtZW50ID09PSAnb2JqZWN0JyAmJiBhcmdTdHIgPT09ICdbb2JqZWN0IERhdGVdJykge1xuICAgIC8vIFByZXZlbnQgdGhlIGRhdGUgdG8gbG9zZSB0aGUgbWlsbGlzZWNvbmRzIHdoZW4gcGFzc2VkIHRvIG5ldyBEYXRlKCkgaW4gSUUxMFxuICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudC5nZXRUaW1lKCkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudCA9PT0gJ251bWJlcicgfHwgYXJnU3RyID09PSAnW29iamVjdCBOdW1iZXJdJykge1xuICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCh0eXBlb2YgYXJndW1lbnQgPT09ICdzdHJpbmcnIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgU3RyaW5nXScpICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihcIlN0YXJ0aW5nIHdpdGggdjIuMC4wLWJldGEuMSBkYXRlLWZucyBkb2Vzbid0IGFjY2VwdCBzdHJpbmdzIGFzIGRhdGUgYXJndW1lbnRzLiBQbGVhc2UgdXNlIGBwYXJzZUlTT2AgdG8gcGFyc2Ugc3RyaW5ncy4gU2VlOiBodHRwczovL2dpdC5pby9manVsZVwiKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblxuICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxufSIsImltcG9ydCB7IGNyZWF0ZVRvZG9DYXJkIH0gZnJvbSAnLi9jcmVhdGUtZG9tLWVsZW1lbnRzJztcbmltcG9ydCB7IGZvcm1hdCwgY29tcGFyZUFzYyB9IGZyb20gJ2RhdGUtZm5zJ1xuXG5jb25zdCB0b2RvcyA9IFtcbiAgICB7XG4gICAgICAgIHR5cGU6ICdHZW5lcmFsJyxcbiAgICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICAgIHRpdGxlOiAnVG9kby1UaXRsZScsXG4gICAgICAgIGRhdGU6ICcyMDIyLTA3LTIwJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ0dlbmVyYWwnLFxuICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgdGl0bGU6ICdUb2RvLVRpdGxlMicsXG4gICAgICAgIGRhdGU6ICcyMDIyLTA3LTIxJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ1Byb2plY3QtVGl0bGUnLFxuICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgdGl0bGU6ICdUb2RvLVRpdGxlMycsXG4gICAgICAgIGRhdGU6ICcyMDIyLTA3LTIyJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ0dlbmVyYWwnLFxuICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgdGl0bGU6ICdUb2RvLVRpdGxlNCcsXG4gICAgICAgIGRhdGU6ICcyMDIyLTA3LTIyJyxcbiAgICB9LFxuXTtcblxuY29uc3QgdG9kb0ZhY3RvcnkgPSAodHlwZSwgdGl0bGUsIGRhdGUpID0+IHtcbiAgICBjb25zdCBjaGVja2VkID0gZmFsc2U7XG4gICAgcmV0dXJuIHsgdHlwZSwgY2hlY2tlZCwgdGl0bGUsIGRhdGUgfTtcbn07XG5cbmNvbnN0IGNyZWF0ZVRvZG8gPSAodHlwZSwgdGl0bGUsIGRhdGUpID0+IHtcbiAgICBjb25zdCBuZXdUb2RvID0gdG9kb0ZhY3RvcnkodHlwZSwgdGl0bGUsIGRhdGUpO1xuICAgIHRvZG9zLnB1c2gobmV3VG9kbyk7XG4gICAgcmVuZGVyVG9kb3MoKTtcbn07XG5cbmNvbnN0IHJlbW92ZVRvZG8gPSAoaW5kZXgpID0+IHtcbiAgICB0b2Rvcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGNvbnNvbGUubG9nKHRvZG9zKVxuICAgIHJlbmRlclRvZG9zKCk7XG59O1xuXG5jb25zdCBlZGl0VG9kbyA9IChpbmRleCwgdGl0bGUsIGRhdGUpID0+IHtcbiAgICBjb25zdCBjdXJyZW50VG9kbyA9IHRvZG9zW2luZGV4XTtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50VG9kbyk7XG4gICAgY3VycmVudFRvZG8udGl0bGUgPSB0aXRsZTtcbiAgICBjdXJyZW50VG9kby5kYXRlID0gZGF0ZTtcbiAgICByZW5kZXJUb2RvcygpO1xufTtcblxuY29uc3QgdXBkYXRlU3RhdHVzID0gKGluZGV4LCB2YWx1ZSkgPT4ge1xuICAgIHRvZG9zW2luZGV4XS5jaGVja2VkID0gdmFsdWU7XG4gICAgY29uc29sZS5sb2codG9kb3MpXG59O1xuXG5jb25zdCByZW5kZXJUb2RvcyA9ICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LXRpdGxlJyk7XG4gICAgY29uc3QgdG9kb0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWNvbnRhaW5lcicpO1xuICAgIHRvZG9Db250YWluZXIudGV4dENvbnRlbnQgPSAnJztcblxuICAgIGNvbnN0IGZpbHRlclRvZG9zID0gdG9kb3MuZmlsdGVyKCh0b2RvLCBpbmRleCkgPT4ge1xuICAgICAgICB0b2RvLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiB0b2RvLnR5cGUgPT09IGN1cnJlbnRQYWdlLmlubmVyVGV4dDtcbiAgICB9KTtcblxuICAgIGZpbHRlclRvZG9zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgLy8gcmV0dXJuIG5ldyBEYXRlKGEuZGF0ZSkudmFsdWVPZigpIC0gbmV3IERhdGUoYi5kYXRlKS52YWx1ZU9mKCk7XG4gICAgICAgIHJldHVybiBjb21wYXJlQXNjKG5ldyBEYXRlKGEuZGF0ZSksIG5ldyBEYXRlKGIuZGF0ZSkpO1xuICAgIH0pO1xuXG4gICAgZmlsdGVyVG9kb3MuZm9yRWFjaCh0b2RvID0+IGNyZWF0ZVRvZG9DYXJkKHRvZG8pKTtcbn07XG5cbmV4cG9ydCB7XG4gICAgdG9kb3MsXG4gICAgY3JlYXRlVG9kbyxcbiAgICByZW1vdmVUb2RvLFxuICAgIGVkaXRUb2RvLFxuICAgIHVwZGF0ZVN0YXR1cyxcbiAgICByZW5kZXJUb2Rvcyxcbn07XG4iLCJpbXBvcnQgdG9EYXRlIGZyb20gXCIuLi90b0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGNvbXBhcmVBc2NcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29tcGFyZSB0aGUgdHdvIGRhdGVzIGFuZCByZXR1cm4gLTEsIDAgb3IgMS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXBhcmUgdGhlIHR3byBkYXRlcyBhbmQgcmV0dXJuIDEgaWYgdGhlIGZpcnN0IGRhdGUgaXMgYWZ0ZXIgdGhlIHNlY29uZCxcbiAqIC0xIGlmIHRoZSBmaXJzdCBkYXRlIGlzIGJlZm9yZSB0aGUgc2Vjb25kIG9yIDAgaWYgZGF0ZXMgYXJlIGVxdWFsLlxuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlUmlnaHQgLSB0aGUgc2Vjb25kIGRhdGUgdG8gY29tcGFyZVxuICogQHJldHVybnMge051bWJlcn0gdGhlIHJlc3VsdCBvZiB0aGUgY29tcGFyaXNvblxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb21wYXJlIDExIEZlYnJ1YXJ5IDE5ODcgYW5kIDEwIEp1bHkgMTk4OTpcbiAqIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmVBc2MobmV3IERhdGUoMTk4NywgMSwgMTEpLCBuZXcgRGF0ZSgxOTg5LCA2LCAxMCkpXG4gKiAvLz0+IC0xXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFNvcnQgdGhlIGFycmF5IG9mIGRhdGVzOlxuICogY29uc3QgcmVzdWx0ID0gW1xuICogICBuZXcgRGF0ZSgxOTk1LCA2LCAyKSxcbiAqICAgbmV3IERhdGUoMTk4NywgMSwgMTEpLFxuICogICBuZXcgRGF0ZSgxOTg5LCA2LCAxMClcbiAqIF0uc29ydChjb21wYXJlQXNjKVxuICogLy89PiBbXG4gKiAvLyAgIFdlZCBGZWIgMTEgMTk4NyAwMDowMDowMCxcbiAqIC8vICAgTW9uIEp1bCAxMCAxOTg5IDAwOjAwOjAwLFxuICogLy8gICBTdW4gSnVsIDAyIDE5OTUgMDA6MDA6MDBcbiAqIC8vIF1cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wYXJlQXNjKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZUxlZnQgPSB0b0RhdGUoZGlydHlEYXRlTGVmdCk7XG4gIHZhciBkYXRlUmlnaHQgPSB0b0RhdGUoZGlydHlEYXRlUmlnaHQpO1xuICB2YXIgZGlmZiA9IGRhdGVMZWZ0LmdldFRpbWUoKSAtIGRhdGVSaWdodC5nZXRUaW1lKCk7XG5cbiAgaWYgKGRpZmYgPCAwKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGRpZmYgPiAwKSB7XG4gICAgcmV0dXJuIDE7IC8vIFJldHVybiAwIGlmIGRpZmYgaXMgMDsgcmV0dXJuIE5hTiBpZiBkaWZmIGlzIE5hTlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBkaWZmO1xuICB9XG59IiwiaW1wb3J0IHsgdG9kb3MgfSBmcm9tICcuL21vZHVsZXMvdG9kb3MuanMnO1xuaW1wb3J0IHsgYnVpbGRHZW5lcmFsIH0gZnJvbSAnLi9tb2R1bGVzL2J1aWxkLXBhZ2VzLmpzJztcbmltcG9ydCB7IG9wZW5Qcm9qZWN0TW9kYWwgfSBmcm9tICcuL21vZHVsZXMvbW9kYWwuanMnO1xuaW1wb3J0IHsgcmVuZGVyUHJvamVjdE5hdiB9IGZyb20gJy4vbW9kdWxlcy9wcm9qZWN0cy5qcyc7XG5cbmNvbnN0IG5hdkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbmF2LWJ0bicpO1xuY29uc3QgbmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyLW1haW4tbmF2LWxpbmsnKTtcblxubmF2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG9wZW5Qcm9qZWN0TW9kYWwoKTtcbn0pXG5cbm5hdkxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgc3dpdGNoIChsaW5rLmlubmVyVGV4dCkge1xuICAgICAgICAgICAgY2FzZSAnR2VuZXJhbCc6XG4gICAgICAgICAgICAgICAgYnVpbGRHZW5lcmFsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdUb2RheSc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVcGNvbWluZyc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdUcmFzaCc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH07XG4gICAgfSk7XG59KTtcblxucmVuZGVyUHJvamVjdE5hdigpIl0sIm5hbWVzIjpbInByb2plY3RzIiwidGl0bGUiLCJkZXNjIiwicmVuZGVyUHJvamVjdE5hdiIsInByb2plY3ROYXYiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImZvckVhY2giLCJwcm9qZWN0IiwibmF2SXRlbSIsImNyZWF0ZU5hdkl0ZW0iLCJhZGRFdmVudExpc3RlbmVyIiwibWFpbiIsIm1haW5Db250YWluZXIiLCJjcmVhdGVEaXYiLCJjcmVhdGVIMiIsImNyZWF0ZVBhcmEiLCJ0b2RvQ29udGFpbmVyIiwiYnRuIiwiY3JlYXRlQnRuIiwiaW5uZXJUZXh0Iiwib3Blbk1vZGFsIiwiYXBwZW5kIiwicmVuZGVyVG9kb3MiLCJidWlsZFByb2plY3RQYWdlIiwibW9kYWwiLCJtb2RhbEZvcm0iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibmV3VG9kb0V2ZW50IiwiZWRpdFRvZG9FdmVudCIsIm5ld1Byb2plY3RFdmVudCIsImNyZWF0ZVRvZG9Nb2RhbEVsZW1lbnRzIiwicmVtb3ZlIiwiZSIsInByb2plY3ROYW1lIiwidGl0bGVJbnB1dCIsImRhdGVJbnB1dCIsInByZXZlbnREZWZhdWx0IiwiY3JlYXRlVG9kbyIsInZhbHVlIiwiZWRpdFRvZG8iLCJjdXJyZW50VGFyZ2V0IiwiY3VycmVudEluZGV4IiwiZGVzY0lucHV0IiwibmV3UHJvamVjdCIsInByb2plY3RGYWN0b3J5IiwicHVzaCIsImNyZWF0ZVByb2plY3QiLCJjbGFzc05hbWUiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiaDIiLCJwYXJhIiwibGkiLCJsaUxpbmsiLCJjcmVhdGVMZWdlbmQiLCJsZWdlbmQiLCJjcmVhdGVMYWJlbCIsImxhYmVsIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlSW5wdXQiLCJpbnB1dFR5cGUiLCJpbnB1dCIsImZvcm1GaWVsZHNldCIsImxhYmVsTmFtZSIsImlucHV0TmFtZSIsImxhYmVsRGF0ZSIsImlucHV0RGF0ZSIsInJlcXVpcmVkQXJncyIsInJlcXVpcmVkIiwiYXJncyIsImxlbmd0aCIsIlR5cGVFcnJvciIsInRvRGF0ZSIsImFyZ3VtZW50IiwiYXJndW1lbnRzIiwiYXJnU3RyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiRGF0ZSIsImdldFRpbWUiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwic3RhY2siLCJOYU4iLCJ0b2RvcyIsInR5cGUiLCJjaGVja2VkIiwiZGF0ZSIsIm5ld1RvZG8iLCJ0b2RvRmFjdG9yeSIsInJlbW92ZVRvZG8iLCJpbmRleCIsInNwbGljZSIsImxvZyIsImN1cnJlbnRUb2RvIiwidXBkYXRlU3RhdHVzIiwiY3VycmVudFBhZ2UiLCJmaWx0ZXJUb2RvcyIsImZpbHRlciIsInRvZG8iLCJzb3J0IiwiYSIsImIiLCJkaXJ0eURhdGVMZWZ0IiwiZGlydHlEYXRlUmlnaHQiLCJkYXRlTGVmdCIsImRhdGVSaWdodCIsImRpZmYiLCJjb21wYXJlQXNjIiwiY29udGFpbmVyIiwiY2hlY2tib3giLCJjcmVhdGVDaGVja2JveCIsImVkaXRCdG4iLCJkZWxldGVCdG4iLCJvcGVuRWRpdE1vZGFsIiwiY3JlYXRlVG9kb0NhcmQiLCJuYXZCdG4iLCJuYXZMaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsYWJlbERlc2MiLCJpbnB1dERlc2MiLCJ0ZXh0QXJlYSIsImNyZWF0ZVRleHRBcmVhIiwiY3JlYXRlUHJvamVjdE1vZGFsRWxlbWVudHMiLCJsaW5rIiwiYnVpbGRHZW5lcmFsIl0sInNvdXJjZVJvb3QiOiIifQ==